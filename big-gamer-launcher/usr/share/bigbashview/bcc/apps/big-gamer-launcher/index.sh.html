#!/bin/bash
##################################
#  Author1: Bruno Goncalves (www.biglinux.com.br) 
#  Author2: Rafael Ruscher (rruscher@gmail.com)  
#  Date:    2022/07/18 
#  
#  Description: BigGamer Laucher usage of BigLinux 
#  
# Licensed by GPL V2 or greater
##################################


#Translation
export TEXTDOMAINDIR="/usr/share/locale"
export TEXTDOMAIN=big-gamer

# Don't group windows
xprop -id "$(xprop -root '\t$0' _NET_ACTIVE_WINDOW | cut -f 2)" -f WM_CLASS 8s -set WM_CLASS "$$"

FOLDER_CONFIG="$HOME/.config/big-gamer"
mkdir -p ~/.config/big-gamer

cat << EOF

<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title>BigGamer Laucher</title>
  <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css'>
  
  <link rel="stylesheet" href="./style.css">
  <script src="/usr/share/bigbashview/bcc/materialize/js/jquery.js"></script>

</head>
EOF

# Get body tag with color light or not
/usr/share/bigbashview/bcc/shell/getbgcolor.sh

cat << EOF
<div class="dark-light">
    <svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z" />
    </svg>
</div>
<div class="container">
			<nav>
				<div class="logo">
					<img id="btn-big" src="logo-big-trans-branco.png" class="logo-biglinux" alt="" style="width: 40px" onclick="biglinux();">
				</div>
				
				<ul>
					<li id="point-container" data-show=".star">
						<svg viewBox="0 0 512 512">
                            <g fill="var(--button-inactive)">
                                <path d="M0 0h128v128H0zm0 0M192 0h128v128H192zm0 0M384 0h128v128H384zm0 0M0 192h128v128H0zm0 0"></path>
                            </g>
                            <path d="M192 192h128v128H192zm0 0" fill="var(--button-inactive)" data-original="#82b1ff"></path>
                            <path d="M384 192h128v128H384zm0 0M0 384h128v128H0zm0 0M192 384h128v128H192zm0 0M384 384h128v128H384zm0 0" fill="var(--button-inactive)"></path>
                        </svg>
					</li>
					<li id="point-container" data-show=".config">
						<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="var(--button-inactive)" d="M495.9 166.6C499.2 175.2 496.4 184.9 489.6 191.2L446.3 230.6C447.4 238.9 448 247.4 448 256C448 264.6 447.4 273.1 446.3 281.4L489.6 320.8C496.4 327.1 499.2 336.8 495.9 345.4C491.5 357.3 486.2 368.8 480.2 379.7L475.5 387.8C468.9 398.8 461.5 409.2 453.4 419.1C447.4 426.2 437.7 428.7 428.9 425.9L373.2 408.1C359.8 418.4 344.1 427 329.2 433.6L316.7 490.7C314.7 499.7 307.7 506.1 298.5 508.5C284.7 510.8 270.5 512 255.1 512C241.5 512 227.3 510.8 213.5 508.5C204.3 506.1 197.3 499.7 195.3 490.7L182.8 433.6C167 427 152.2 418.4 138.8 408.1L83.14 425.9C74.3 428.7 64.55 426.2 58.63 419.1C50.52 409.2 43.12 398.8 36.52 387.8L31.84 379.7C25.77 368.8 20.49 357.3 16.06 345.4C12.82 336.8 15.55 327.1 22.41 320.8L65.67 281.4C64.57 273.1 64 264.6 64 256C64 247.4 64.57 238.9 65.67 230.6L22.41 191.2C15.55 184.9 12.82 175.3 16.06 166.6C20.49 154.7 25.78 143.2 31.84 132.3L36.51 124.2C43.12 113.2 50.52 102.8 58.63 92.95C64.55 85.8 74.3 83.32 83.14 86.14L138.8 103.9C152.2 93.56 167 84.96 182.8 78.43L195.3 21.33C197.3 12.25 204.3 5.04 213.5 3.51C227.3 1.201 241.5 0 256 0C270.5 0 284.7 1.201 298.5 3.51C307.7 5.04 314.7 12.25 316.7 21.33L329.2 78.43C344.1 84.96 359.8 93.56 373.2 103.9L428.9 86.14C437.7 83.32 447.4 85.8 453.4 92.95C461.5 102.8 468.9 113.2 475.5 124.2L480.2 132.3C486.2 143.2 491.5 154.7 495.9 166.6V166.6zM256 336C300.2 336 336 300.2 336 255.1C336 211.8 300.2 175.1 256 175.1C211.8 175.1 176 211.8 176 255.1C176 300.2 211.8 336 256 336z"/></svg>
					</li>
				</ul>
				
				<ul>
					<li id="point-container" data-show=".games">
						<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="var(--button-inactive)" d="M128 184C128 206.1 110.1 224 88 224H40C17.91 224 0 206.1 0 184V136C0 113.9 17.91 96 40 96H88C110.1 96 128 113.9 128 136V184zM128 376C128 398.1 110.1 416 88 416H40C17.91 416 0 398.1 0 376V328C0 305.9 17.91 288 40 288H88C110.1 288 128 305.9 128 328V376zM160 136C160 113.9 177.9 96 200 96H248C270.1 96 288 113.9 288 136V184C288 206.1 270.1 224 248 224H200C177.9 224 160 206.1 160 184V136zM288 376C288 398.1 270.1 416 248 416H200C177.9 416 160 398.1 160 376V328C160 305.9 177.9 288 200 288H248C270.1 288 288 305.9 288 328V376zM320 136C320 113.9 337.9 96 360 96H408C430.1 96 448 113.9 448 136V184C448 206.1 430.1 224 408 224H360C337.9 224 320 206.1 320 184V136zM448 376C448 398.1 430.1 416 408 416H360C337.9 416 320 398.1 320 376V328C320 305.9 337.9 288 360 288H408C430.1 288 448 305.9 448 328V376z"/></svg>
					</li>
					<li id="point-container" data-show=".display">
						<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path fill="var(--button-inactive)" d="M528 0h-480C21.5 0 0 21.5 0 48v320C0 394.5 21.5 416 48 416h192L224 464H152C138.8 464 128 474.8 128 488S138.8 512 152 512h272c13.25 0 24-10.75 24-24s-10.75-24-24-24H352L336 416h192c26.5 0 48-21.5 48-48v-320C576 21.5 554.5 0 528 0zM512 352H64V64h448V352z"/></svg>
					</li>
					<li id="point-container" data-show=".folder">
						<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="var(--button-inactive)" d="M512 144v288c0 26.5-21.5 48-48 48h-416C21.5 480 0 458.5 0 432v-352C0 53.5 21.5 32 48 32h160l64 64h192C490.5 96 512 117.5 512 144z"/></svg>
					</li>
					<li id="point-container" data-show=".disc">
						<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path fill="var(--button-inactive)" d="M304 16.58C304 7.555 310.1 0 320 0C443.7 0 544 100.3 544 224C544 233 536.4 240 527.4 240H304V16.58zM32 272C32 150.7 122.1 50.34 238.1 34.25C248.2 32.99 256 40.36 256 49.61V288L412.5 444.5C419.2 451.2 418.7 462.2 411 467.7C371.8 495.6 323.8 512 272 512C139.5 512 32 404.6 32 272zM558.4 288C567.6 288 575 295.8 573.8 305C566.1 360.9 539.1 410.6 499.9 447.3C493.9 452.1 484.5 452.5 478.7 446.7L320 288H558.4z"/></svg>
					</li>
					<li id="point-container" data-show=".store">
						<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="var(--button-inactive)" d="M112 112C112 50.14 162.1 0 224 0C285.9 0 336 50.14 336 112V160H400C426.5 160 448 181.5 448 208V416C448 469 405 512 352 512H96C42.98 512 0 469 0 416V208C0 181.5 21.49 160 48 160H112V112zM160 160H288V112C288 76.65 259.3 48 224 48C188.7 48 160 76.65 160 112V160zM136 256C149.3 256 160 245.3 160 232C160 218.7 149.3 208 136 208C122.7 208 112 218.7 112 232C112 245.3 122.7 256 136 256zM312 208C298.7 208 288 218.7 288 232C288 245.3 298.7 256 312 256C325.3 256 336 245.3 336 232C336 218.7 325.3 208 312 208z"/></svg>
					</li>
				</ul>
			</nav>
			<div class="right-main" id="point-container">
				<div  id="topbar" class="main-top">
					<div class="search">
						<i class="fas fa-search"></i>
						<input type="text" placeholder="Pesquisar..." />
					</div>
					<div class="top">
						<i><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M256 32V51.2C329 66.03 384 130.6 384 208V226.8C384 273.9 401.3 319.2 432.5 354.4L439.9 362.7C448.3 372.2 450.4 385.6 445.2 397.1C440 408.6 428.6 416 416 416H32C19.4 416 7.971 408.6 2.809 397.1C-2.353 385.6-.2883 372.2 8.084 362.7L15.5 354.4C46.74 319.2 64 273.9 64 226.8V208C64 130.6 118.1 66.03 192 51.2V32C192 14.33 206.3 0 224 0C241.7 0 256 14.33 256 32H256zM224 512C207 512 190.7 505.3 178.7 493.3C166.7 481.3 160 464.1 160 448H288C288 464.1 281.3 481.3 269.3 493.3C257.3 505.3 240.1 512 224 512z"/></svg></i>
						<!-- <i class="fas fa-shopping-cart"></i> -->
						<i><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M256 0C114.6 0 0 114.6 0 256s114.6 256 256 256s256-114.6 256-256S397.4 0 256 0zM256 128c39.77 0 72 32.24 72 72S295.8 272 256 272c-39.76 0-72-32.24-72-72S216.2 128 256 128zM256 448c-52.93 0-100.9-21.53-135.7-56.29C136.5 349.9 176.5 320 224 320h64c47.54 0 87.54 29.88 103.7 71.71C356.9 426.5 308.9 448 256 448z"/></svg></i>
						<i id="hamburger"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M0 96C0 78.33 14.33 64 32 64H416C433.7 64 448 78.33 448 96C448 113.7 433.7 128 416 128H32C14.33 128 0 113.7 0 96zM0 256C0 238.3 14.33 224 32 224H416C433.7 224 448 238.3 448 256C448 273.7 433.7 288 416 288H32C14.33 288 0 273.7 0 256zM416 448H32C14.33 448 0 433.7 0 416C0 398.3 14.33 384 32 384H416C433.7 384 448 398.3 448 416C448 433.7 433.7 448 416 448z"/></svg></i>
					</div>
				</div>
				<div class="main-flex">
					<main class="star">
						<header>
							<div class="tag" style="z-index: 10 !important;display: block; position: relative;">Novo</div>
							<div style="z-index: 10 !important;display: block;width: auto;position: relative;"><h1>God of War</h1></div>
							<div class="purchase" style="z-index: 10 !important;display: flex;position: relative;">
								<h2>Adquirir</h2>
								<button>Baixar</button>
							</div>
							<div style="margin-top: -63px; margin-right: -59px; width: 637px;" class="principal-img">
								<img
									src="picture/God-of-War.png"
									alt="God of War"
									draggable="false"
								/>
							</div>
						</header>
						<div class="most-played">
							<h3>Jogos em alta</h3>
							<div class="cards">
								<div class="games-card">
									<div class="game-image-container">
										<img
											src="thumbnail/assassins-creed-valhalla.jpg"
											alt="Assassins Creed Valhalla"
										/>
									</div>

									<h4>Assassins Creed Valhalla</h4>
									<p><button>Jogar</button></p>
								
								</div>
								<div class="games-card">
									<div class="game-image-container">
										<img
											src="thumbnail/cyberpunk-2077.jpg"
											alt="Cyberpunk"
										/>
									</div>
									<h4>Cyberpunk 2077</h4>
									<p><button>Baixar</button></p>
								</div>
								<div class="games-card">
									<div class="game-image-container">
										<img
											src="thumbnail/far-cry-5.jpg"
											alt="Farcry 5"
										/>
									</div>
									<h4>Far Cry 5</h4>
									<p><button>Jogar</button></p>
								</div>
								<div class="games-card">
									<div class="game-image-container">
										<img
											src="thumbnail/EvilDeadThegame.jpg"
											alt="Evil Dead: The Game"
										/>
									</div>
									<h4>Evil Dead: The Game</h4>
									<p><button>Jogar</button></p>
								</div>
								<div class="games-card">
									<div class="game-image-container">
										<img
											src="thumbnail/DeadbyDaylight.jpg"
											alt="Dead by Daylight"
										/>
									</div>
									<h4>Dead by Daylight</h4>
									<p><button>Baixar</button></p>
								</div>
								<div class="games-card">
									<div class="game-image-container">
										<img
											src="thumbnail/Division.jpg"
											alt="Tom Clancy's The Division"
										/>
									</div>
									<h4>Tom Clancy's The Division</h4>
									<p><button>Jogar</button></p>
								</div>
								<div class="games-card">
									<div class="game-image-container">
										<img
											src="thumbnail/DeathStranding.jpg"
											alt="Death Stranding"
										/>
									</div>
									<h4>Death Stranding</h4>
									<p><button>Jogar</button></p>
								</div>
							</div>
						</div>
					</main>

					<!-- ### Config -->
					<main class="config hide">
						<div class="main-header">
							<a class="menu-link-main" href="#">Config</a>
						</div>
					</main>
					<!-- ### Games -->
					<main class="games hide">
						<div class="main-header">
							<a class="menu-link-main" href="#">Games</a>
						</div>
					</main>
					<!-- ### Display -->
					<main class="display hide">
						<div class="main-header">
							<a class="menu-link-main" href="#">Display</a>
						</div>
					</main>
					<!-- ### Folder -->
					<main class="folder hide">
						<div class="main-header">
							<a class="menu-link-main" href="#">Folder</a>
						</div>
					</main>
					<!-- ### Disc -->
					<main class="disc hide">
						<div class="main-header">
							<a class="menu-link-main" href="#">Disc</a>
							<!--<h2>Normal</h2>
							<div class="big">
							<div class="pie pie--value" style="--percent:35;"></div>
							<div class="pie pie--value" style="--percent:15;"></div>
							<div class="pie pie--value" style="--percent:65;"></div>
							<div class="pie pie--value" style="--percent:85;"></div>
							<div class="pie" style="--percent:40;"></div>
							</div>
							<div class="med">
							<div class="pie pie--value" style="--percent:35;"></div>
							<div class="pie pie--value" style="--percent:15;"></div>
							<div class="pie pie--value" style="--percent:65;"></div>
							<div class="pie pie--value" style="--percent:85;"></div>
							<div class="pie" style="--percent:40;"></div>
							</div>-->
							<div class="sml">
							<div class="pie pie--value" style="--percent:35;"></div>
							<div class="pie pie--value" style="--percent:15;"></div>
							<div class="pie pie--value" style="--percent:65;"></div>
							<div class="pie pie--value" style="--percent:85;"></div>
							<div class="pie" style="--percent:40;"></div>
							</div>

							<!--<h2>Disc variant</h2>
							<div class="big">
							<div class="pie pie--value pie--disc" style="--percent:35;"></div>
							<div class="pie pie--value pie--disc" style="--percent:15;"></div>
							<div class="pie pie--value pie--disc" style="--percent:65;"></div>
							<div class="pie pie--value pie--disc" style="--percent:85;"></div>
							<div class="pie pie--disc" style="--percent:40;"></div>
							</div>-->
							<div class="med">
							<div class="pie pie--value pie--disc" style="--percent:35;"></div>
							<div class="pie pie--value pie--disc" style="--percent:15;"></div>
							<div class="pie pie--value pie--disc" style="--percent:65;"></div>
							<div class="pie pie--value pie--disc" style="--percent:85;"></div>
							<div class="pie pie--disc" style="--percent:40;"></div>
							</div>
							<!--<div class="sml">
							<div class="pie pie--value pie--disc" style="--percent:35;"></div>
							<div class="pie pie--value pie--disc" style="--percent:15;"></div>
							<div class="pie pie--value pie--disc" style="--percent:65;"></div>
							<div class="pie pie--value pie--disc" style="--percent:85;"></div>
							<div class="pie pie--disc" style="--percent:40;"></div>
							</div>

							<h2>Dynamically updated (CSS custom property)</h2>
							<div class="big">
							<div class="js pie pie--value"></div>
							<div class="js pie pie--value pie--disc"></div>
							<div class="js pie"></div>
							<div class="js pie pie--disc"></div>
							</div>
							<div class="med">
							<div class="js pie pie--value"></div>
							<div class="js pie pie--value pie--disc"></div>
							<div class="js pie"></div>
							<div class="js pie pie--disc"></div>
							</div>-->
							<div class="sml">
							<div class="js pie pie--value"></div>
							<div class="js pie pie--value pie--disc"></div>
							<div class="js pie"></div>
							<div class="js pie pie--disc"></div>
							</div>
							
						</div>
						
						
					</main>
					<!-- ### Store -->
					<main class="store hide">
						<div class="main-header">
							<a class="menu-link-main" href="#">Store</a>
						</div>
					</main>					
					
					
					
					<aside style="display: block !important;">
						<div class="library">
							<h3>Lojas</h3>
							<div class="library-card">
								<div class="game-logo">
									<img
										src="icons/lutris.png"
										alt="Lutris"
									/>
								</div>
								<div class="game-details">
									<h4>Lutris</h4>
									<p>Instalado</p>
								</div>
								<i class="far fa-check-circle"></i>
							</div>
							<div class="library-card">
								<div class="game-logo">
									<img
										src="icons/steam.png"
										alt="Steam"
									/>
								</div>
								<div class="game-details">
									<h4>Steam</h4>
									<p>Instalado</p>
								</div>
								<i class="far fa-check-circle"></i>
							</div>
							<div class="library-card">
								<div class="game-logo">
									<img
										src="icons/heroic.png"
										alt="Heroic"
									/>
								</div>
								<div class="game-details">
									<h4>Heroic</h4>
									<p>Baixar</p>
								</div>
								<i><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="var(--button-inactive)" d="M480 352h-133.5l-45.25 45.25C289.2 409.3 273.1 416 256 416s-33.16-6.656-45.25-18.75L165.5 352H32c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h448c17.67 0 32-14.33 32-32v-96C512 366.3 497.7 352 480 352zM432 456c-13.2 0-24-10.8-24-24c0-13.2 10.8-24 24-24s24 10.8 24 24C456 445.2 445.2 456 432 456zM233.4 374.6C239.6 380.9 247.8 384 256 384s16.38-3.125 22.62-9.375l128-128c12.49-12.5 12.49-32.75 0-45.25c-12.5-12.5-32.76-12.5-45.25 0L288 274.8V32c0-17.67-14.33-32-32-32C238.3 0 224 14.33 224 32v242.8L150.6 201.4c-12.49-12.5-32.75-12.5-45.25 0c-12.49 12.5-12.49 32.75 0 45.25L233.4 374.6z"/></svg></i>
							</div>
							<hr />
							<h3>Apps</h3>
							<div class="library-card">
								<div class="game-logo">
									<img
										src="icons/goverlay.png"
										alt="GOverlay"
									/>
								</div>
								<div class="game-details">
									<h4>GOverlay</h4>
									<p>Gerenciar sobreposições Vulkan/OpenGL</p>
								</div>
								<div class="online"></div>
							</div>
							<div class="library-card">
								<div class="game-logo">
									<img
										src="icons/proton.png"
										alt="Proton"
									/>
								</div>
								<div class="game-details">
									<h4>All Protons</h4>
									<p>Compatibilidade para rodar jogos do Windows no Linux</p>
								</div>
								<div class="online"></div>
							</div>
							<div class="library-card">
								<div class="game-logo">
									<img
										src="icons/corectrl.png"
										alt="CoreCtrl"
									/>
								</div>
								<div class="game-details">
									<h4>CoreCtrl</h4>
									<p>Controlar com facilidade o hardware do seu computador</p>
								</div>
								<div class="offline"></div>
							</div>
							<div class="library-card">
								<div class="game-logo">
									<img
										src="icons/openrgb.png"
										alt="CoreCtrl"
									/>
								</div>
								<div class="game-details">
									<h4>OpenRGB</h4>
									<p>Controle RGB de Leds do seu computador.</p>
								</div>
								<div class="offline"></div>
							</div>
							
							
							<hr />
							<h3>Emuladores</h3>
							<div class="library-card">
								<div class="game-logo">
									<img
										src="icons/retroarch.png"
										alt="RetroArch"
									/>
								</div>
								<div class="game-details">
									<h4>RetroArch</h4>
									<p>Baixar</p>
								</div>
								<i><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="var(--button-inactive)" d="M480 352h-133.5l-45.25 45.25C289.2 409.3 273.1 416 256 416s-33.16-6.656-45.25-18.75L165.5 352H32c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h448c17.67 0 32-14.33 32-32v-96C512 366.3 497.7 352 480 352zM432 456c-13.2 0-24-10.8-24-24c0-13.2 10.8-24 24-24s24 10.8 24 24C456 445.2 445.2 456 432 456zM233.4 374.6C239.6 380.9 247.8 384 256 384s16.38-3.125 22.62-9.375l128-128c12.49-12.5 12.49-32.75 0-45.25c-12.5-12.5-32.76-12.5-45.25 0L288 274.8V32c0-17.67-14.33-32-32-32C238.3 0 224 14.33 224 32v242.8L150.6 201.4c-12.49-12.5-32.75-12.5-45.25 0c-12.49 12.5-12.49 32.75 0 45.25L233.4 374.6z"/></svg></i>
							</div>
						</div>
					</aside>
				</div>
				
				
				

				
				
			</div>
		</div>
<!-- partial -->
  <script  src="./script.js"></script>
EOF
#########################
#
# Change to "Principais" in start
#
#########################
#echo "<script>
#\$(function() {
#   \$(\"#star\").trigger(\"click\");});
#</script>"
cat << EOF
</body>
</html>
EOF

IFS=$OIFS
